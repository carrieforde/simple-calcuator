!function(i){var a={};function n(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,i){i(2),t.exports=i(1)},function(t,e,i){},function(t,e,i){"use strict";function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}i.r(e);var n=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.capacity=t||1/0,this.storage=new Map,this.head=0,this.tail=0,this.computed=0}return function(t,e,i){e&&a(t.prototype,e),i&&a(t,i)}(e,[{key:"enqueue",value:function(t){return this.tail>=this.capacity?"Max capacity reached. Remove an element before adding a new one.":(this.storage.set(this.tail++,t),this.tail)}},{key:"dequeue",value:function(){var t=this.storage.get(this.head);return this.storage.delete(this.head++),t}},{key:"peek",value:function(){return this.storage.get(this.head)}},{key:"update",value:function(t,e){if(this.enqueue(t),3!==this.storage.size)return this.enqueue(e),t;var i=this.storage.get(this.head),a=this.storage.get(this.head+1),n=this.storage.get(this.head+2);return this.computed=this[a](i,n),this.clearStorage(),this.enqueue(this.computed),this.enqueue(e),this.computed}},{key:"clearStorage",value:function(){this.storage.clear(),this.head=0,this.tail=0}},{key:"allClear",value:function(){return this.storage.clear(),this.head=0,this.tail=0,this.computed=0,this.computed}},{key:"plusMinus",value:function(t){return-1*t}},{key:"percent",value:function(t){return t/100}},{key:"add",value:function(t,e){return t+e}},{key:"subtract",value:function(t,e){return t-e}},{key:"multiply",value:function(t,e){return t*e}},{key:"divide",value:function(t,e){return t/e}}]),e}();function s(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.calculator=document.querySelector(t),this.display=this.calculator.querySelector(e),this.displayValue="0",this.keys=Object.freeze({functions:{escape:"allClear","%":"percent"},operator:{"+":"add","-":"subtract","*":"multiply","/":"divide","=":"equals",enter:"equals"},numbers:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,".":"."}}),this.compute=new n(3),this.update=new CustomEvent("update",{bubbles:!0}),this.handleClicks=this.handleClicks.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.init()}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(i,[{key:"init",value:function(){var e=this;this.calculator.addEventListener("click",this.handleClicks),document.addEventListener("keyup",this.handleKeyup),this.calculator.addEventListener("update",function(t){t.target.textContent=e.displayValue})}},{key:"updateDisplayValue",value:function(t){"0"===this.displayValue&&"0"!==t||isNaN(parseFloat(this.lastInput))&&"."!==this.lastInput?this.displayValue=t:this.displayValue+=t}},{key:"handleClicks",value:function(t){var e=t.target;if(!e||!e.classList.contains("button"))return!1;if(e.classList.add("button--active"),setTimeout(function(){e.classList.remove("button--active")},200),e.classList.contains("button--number")&&this.updateDisplayValue(e.getAttribute("id")),e.classList.contains("button--function")){var i=e.getAttribute("id");this.displayValue="allClear"===i?this.compute.allClear():this.compute[i](parseFloat(this.displayValue))}if(e.classList.contains("button--operator")){var a=e.getAttribute("id");this.displayValue=this.compute.update(parseFloat(this.displayValue),a)}return this.lastInput=e.getAttribute("id"),this.display.dispatchEvent(this.update),!0}},{key:"handleKeyup",value:function(t){var e,i=t.key.toLowerCase();if(void 0===this.keys.functions[i]&&void 0===this.keys.numbers[i]&&void 0===this.keys.operator[i])return!1;if(void 0!==this.keys.functions[i]){var a=this.keys.functions[i];e=document.getElementById(a),this.displayValue="allClear"===a?this.compute.allClear():this.compute[a](parseFloat(this.displayValue))}if(void 0!==this.keys.numbers[i]&&(e=document.getElementById(i),this.updateDisplayValue(i)),void 0!==this.keys.operator[i]){var n=this.keys.operator[i];e=document.getElementById(n),this.displayValue=this.compute.update(parseFloat(this.displayValue),n)}return null!==e&&(e.classList.add("button--active"),setTimeout(function(){e.classList.remove("button--active")},200)),this.lastInput=i,this.display.dispatchEvent(this.update),!0}}]),i}();document.addEventListener("DOMContentLoaded",function(){document.querySelector(".calculator")&&(window.calculator=new u(".calculator",".calculator__display"))})}]);